<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Hồ sơ Cá nhân - Hy Vọng Mới</title>
    <link rel="stylesheet" href="../static/css/profile.css" />
    <script src="../static/js/profile.js"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
  </head>
  <body>
    <button class="btn-toggle-sidebar" onclick="toggleSidebar()">
      <i class="fas fa-bars"></i>
    </button>

    <div class="dashboard-container">
      <!-- Sidebar -->
      <nav class="sidebar">
        <div class="sidebar-header">
          <h2>Hy Vọng Mới</h2>
          <div class="user-info">
            <div class="user-avatar">H</div>
            <div class="user-details">
              <h3>Nguyễn Văn A</h3>
              <span>Bệnh nhân</span>
            </div>
          </div>
        </div>

        <ul class="sidebar-nav">
          <li class="nav-item">
            <a href="customer.html">
              <i class="fas fa-home"></i>
              <span>Thông báo</span>
            </a>
          </li>
          <li class="nav-item">
            <a href="dangkidichvu.html">
              <i class="fas fa-plus-circle"></i>
              <span>Đăng ký dịch vụ</span>
            </a>
          </li>
          <li class="nav-item">
            <a href="lichtrinhdieutri.html">
              <i class="fas fa-calendar-check"></i>
              <span>Lịch trình điều trị</span>
            </a>
          </li>
          <li class="nav-item">
            <a href="ketquadieutri.html">
              <i class="fas fa-file-medical-alt"></i>
              <span>Kết quả điều trị</span>
            </a>
          </li>
          <li class="nav-item">
            <a href="lichsudondat.html">
              <i class="fas fa-history"></i>
              <span>Lịch sử đơn đặt</span>
            </a>
          </li>
          <li class="nav-item">
            <a href="danhgia.html" onclick="changeTab('reviews')">
              <i class="fas fa-star"></i>
              <span>Đánh giá</span>
            </a>
          </li>
          <li class="nav-item active">
            <a href="profile.html" onclick="changeTab('profile')">
              <i class="fas fa-user-cog"></i>
              <span>Hồ sơ cá nhân</span>
            </a>
          </li>
        </ul>
      </nav>

      <!-- Main Content -->
      <main class="main-content">
        <div class="top-right">
          <button class="logout-btn" onclick="logout()">
            <i class="fas fa-sign-out-alt"></i> Đăng xuất
          </button>
        </div>

        <div class="page-header">
          <h1>Hồ sơ Cá nhân</h1>
          <p>Quản lý thông tin cá nhân và cài đặt tài khoản của bạn</p>
        </div>

        <!-- Profile Tabs -->
        <div class="profile-tabs">
          <button
            class="tab-btn active"
            onclick="openTab(event, 'personal-info')"
          >
            <i class="fas fa-user"></i> Thông tin cá nhân
          </button>
          <button class="tab-btn" onclick="openTab(event, 'change-password')">
            <i class="fas fa-lock"></i> Đổi mật khẩu
          </button>
          <button class="tab-btn" onclick="openTab(event, 'activity-log')">
            <i class="fas fa-history"></i> Lịch sử hoạt động
          </button>
          <button class="tab-btn" onclick="openTab(event, 'notifications')">
            <i class="fas fa-bell"></i> Cài đặt thông báo
          </button>
        </div>

        <!-- Personal Info Tab -->
        <div id="personal-info" class="tab-content active">
          <div class="profile-section">
            <h2><i class="fas fa-user-edit"></i> Thông tin cá nhân</h2>

            <div class="alert alert-success" id="success-message">
              <i class="fas fa-check-circle"></i> Cập nhật thông tin thành công!
            </div>

            <div class="profile-avatar-section">
              <div class="profile-avatar-large">
                <img id="avatar-preview" src="" alt="" style="display: none" />
                <span id="avatar-text">H</span>
              </div>
              <div class="avatar-upload">
                <h4>Ảnh đại diện</h4>
                <div class="file-input-wrapper">
                  <input
                    type="file"
                    id="avatar-input"
                    accept="image/*"
                    onchange="previewAvatar(this)"
                  />
                  <label for="avatar-input" class="file-input-label">
                    <i class="fas fa-camera"></i> Chọn ảnh
                  </label>
                </div>
                <p style="color: #64748b; font-size: 0.85rem">
                  Định dạng: JPG, PNG. Tối đa 2MB
                </p>
              </div>
            </div>

            <form id="profile-form">
              <div class="form-grid">
                <div class="form-group">
                  <label for="fullname">Họ và tên *</label>
                  <input
                    type="text"
                    id="fullname"
                    name="fullname"
                    value="Nguyễn Văn A"
                    required
                  />
                </div>

                <div class="form-group">
                  <label for="email">Email *</label>
                  <input
                    type="email"
                    id="email"
                    name="email"
                    value="nguyenvana@email.com"
                    required
                  />
                </div>

                <div class="form-group">
                  <label for="phone">Số điện thoại *</label>
                  <input
                    type="tel"
                    id="phone"
                    name="phone"
                    value="0123456789"
                    required
                  />
                </div>

                <div class="form-group">
                  <label for="birthdate">Ngày sinh</label>
                  <input
                    type="date"
                    id="birthdate"
                    name="birthdate"
                    value="1990-01-15"
                  />
                </div>

                <div class="form-group">
                  <label for="gender">Giới tính</label>
                  <select id="gender" name="gender">
                    <option value="">Chọn giới tính</option>
                    <option value="male" selected>Nam</option>
                    <option value="female">Nữ</option>
                    <option value="other">Khác</option>
                  </select>
                </div>

                <div class="form-group">
                  <label for="citizen-id">CCCD/CMND</label>
                  <input
                    type="text"
                    id="citizen-id"
                    name="citizen-id"
                    value="123456789012"
                  />
                </div>
              </div>

              <div class="form-group">
                <label for="address">Địa chỉ</label>
                <textarea
                  id="address"
                  name="address"
                  rows="3"
                  placeholder="Nhập địa chỉ đầy đủ"
                >
123 Đường ABC, Phường XYZ, Quận 1, TP.HCM</textarea
                >
              </div>

              <div class="btn-group">
                <button type="submit" class="btn btn-primary">
                  <i class="fas fa-save"></i> Lưu thay đổi
                </button>
                <button
                  type="button"
                  class="btn btn-secondary"
                  onclick="resetForm()"
                >
                  <i class="fas fa-undo"></i> Hủy bỏ
                </button>
              </div>
            </form>
          </div>
        </div>

        <!-- Change Password Tab -->
        <div id="change-password" class="tab-content">
          <div class="profile-section">
            <h2><i class="fas fa-lock"></i> Đổi mật khẩu</h2>

            <div class="alert alert-error" id="password-error">
              <i class="fas fa-exclamation-circle"></i>
              <span id="password-error-text"></span>
            </div>

            <div class="alert alert-success" id="password-success">
              <i class="fas fa-check-circle"></i> Đổi mật khẩu thành công!
            </div>

            <form id="password-form" style="max-width: 500px">
              <div class="form-group">
                <label for="current-password">Mật khẩu hiện tại *</label>
                <input
                  type="password"
                  id="current-password"
                  name="current-password"
                  required
                />
              </div>

              <div class="form-group">
                <label for="new-password">Mật khẩu mới *</label>
                <input
                  type="password"
                  id="new-password"
                  name="new-password"
                  required
                  onkeyup="checkPasswordStrength()"
                />
              </div>

              <div class="form-group">
                <label for="confirm-password">Xác nhận mật khẩu mới *</label>
                <input
                  type="password"
                  id="confirm-password"
                  name="confirm-password"
                  required
                />
              </div>

              <div class="password-requirements">
                <h4>Yêu cầu mật khẩu:</h4>
                <ul>
                  <li id="length-check">
                    <i class="fas fa-times"></i> Ít nhất 8 ký tự
                  </li>
                  <li id="uppercase-check">
                    <i class="fas fa-times"></i> Có chữ hoa
                  </li>
                  <li id="lowercase-check">
                    <i class="fas fa-times"></i> Có chữ thường
                  </li>
                  <li id="number-check"><i class="fas fa-times"></i> Có số</li>
                  <li id="special-check">
                    <i class="fas fa-times"></i> Có ký tự đặc biệt
                  </li>
                </ul>
              </div>

              <div class="btn-group">
                <button type="submit" class="btn btn-primary">
                  <i class="fas fa-key"></i> Đổi mật khẩu
                </button>
              </div>
            </form>
          </div>
        </div>

        <!-- Activity Log Tab -->
        <div id="activity-log" class="tab-content">
          <div class="profile-section">
            <h2><i class="fas fa-history"></i> Lịch sử hoạt động</h2>

            <div class="activity-item">
              <div class="activity-icon login">
                <i class="fas fa-sign-in-alt"></i>
              </div>
              <div class="activity-details">
                <h4>Đăng nhập thành công</h4>
                <p>IP: 192.168.1.1</p>
                <p>Thiết bị: Chrome trên Windows</p>
                <div class="activity-time">Hôm nay, 14:30</div>
              </div>
            </div>

            <div class="activity-item">
              <div class="activity-icon update">
                <i class="fas fa-edit"></i>
              </div>
              <div class="activity-details">
                <h4>Cập nhật thông tin cá nhân</h4>
                <p>Đã thay đổi số điện thoại</p>
                <div class="activity-time">Hôm qua, 09:15</div>
              </div>
            </div>

            <div class="activity-item">
              <div class="activity-icon security">
                <i class="fas fa-shield-alt"></i>
              </div>
              <div class="activity-details">
                <h4>Đổi mật khẩu</h4>
                <p>Mật khẩu đã được thay đổi thành công</p>
                <div class="activity-time">3 ngày trước, 16:45</div>
              </div>
            </div>

            <div class="activity-item">
              <div class="activity-icon login">
                <i class="fas fa-sign-in-alt"></i>
              </div>
              <div class="activity-details">
                <h4>Đăng nhập thành công</h4>
                <p>IP: 192.168.1.1</p>
                <p>Thiết bị: Safari trên iPhone</p>
                <div class="activity-time">1 tuần trước, 08:20</div>
              </div>
            </div>

            <div class="activity-item">
              <div class="activity-icon update">
                <i class="fas fa-camera"></i>
              </div>
              <div class="activity-details">
                <h4>Cập nhật ảnh đại diện</h4>
                <p>Đã thay đổi ảnh đại diện</p>
                <div class="activity-time">2 tuần trước, 11:30</div>
              </div>
            </div>
          </div>
        </div>

        <!-- Notifications Tab -->
        <div id="notifications" class="tab-content">
          <div class="profile-section">
            <h2><i class="fas fa-bell"></i> Cài đặt thông báo</h2>

            <div class="alert alert-success" id="notification-success">
              <i class="fas fa-check-circle"></i> Cài đặt thông báo đã được lưu!
            </div>

            <form id="notification-form">
              <div class="notification-group">
                <h4>Thông báo lịch hẹn</h4>

                <div class="notification-item">
                  <div class="notification-info">
                    <h5>Email nhắc nhở</h5>
                    <p>Nhận email nhắc nhở trước lịch hẹn</p>
                  </div>
                  <label class="toggle-switch">
                    <input type="checkbox" name="email-appointment" checked />
                    <span class="slider"></span>
                  </label>
                </div>

                <div class="notification-item">
                  <div class="notification-info">
                    <h5>SMS nhắc nhở</h5>
                    <p>Nhận tin nhắn SMS trước lịch hẹn</p>
                  </div>
                  <label class="toggle-switch">
                    <input type="checkbox" name="sms-appointment" checked />
                    <span class="slider"></span>
                  </label>
                </div>

                <div class="notification-item">
                  <div class="notification-info">
                    <h5>Thông báo trong ứng dụng</h5>
                    <p>Hiển thị thông báo khi có lịch hẹn sắp tới</p>
                  </div>
                  <label class="toggle-switch">
                    <input type="checkbox" name="app-appointment" checked />
                    <span class="slider"></span>
                  </label>
                </div>
              </div>

              <div class="notification-group">
                <h4>Thông báo kết quả điều trị</h4>

                <div class="notification-item">
                  <div class="notification-info">
                    <h5>Email kết quả</h5>
                    <p>Nhận email khi có kết quả điều trị mới</p>
                  </div>
                  <label class="toggle-switch">
                    <input type="checkbox" name="email-results" checked />
                    <span class="slider"></span>
                  </label>
                </div>

                <div class="notification-item">
                  <div class="notification-info">
                    <h5>SMS kết quả</h5>
                    <p>Nhận tin nhắn SMS khi có kết quả điều trị</p>
                  </div>
                  <label class="toggle-switch">
                    <input type="checkbox" name="sms-results" />
                    <span class="slider"></span>
                  </label>
                </div>
              </div>

              <div class="notification-group">
                <h4>Thông báo chung</h4>

                <div class="notification-item">
                  <div class="notification-info">
                    <h5>Tin tức và cập nhật</h5>
                    <p>Nhận thông tin về dịch vụ mới và khuyến mãi</p>
                  </div>
                  <label class="toggle-switch">
                    <input type="checkbox" name="news-updates" />
                    <span class="slider"></span>
                  </label>
                </div>

                <div class="notification-item">
                  <div class="notification-info">
                    <h5>Khảo sát ý kiến</h5>
                    <p>Tham gia khảo sát đánh giá dịch vụ</p>
                  </div>
                  <label class="toggle-switch">
                    <input type="checkbox" name="surveys" checked />
                    <span class="slider"></span>
                  </label>
                </div>
              </div>

              <div class="form-group">
                <label for="reminder-time"
                  >Thời gian nhắc nhở trước lịch hẹn</label
                >
                <select id="reminder-time" name="reminder-time">
                  <option value="15">15 phút</option>
                  <option value="30">30 phút</option>
                  <option value="60" selected>1 giờ</option>
                  <option value="120">2 giờ</option>
                  <option value="1440">1 ngày</option>
                </select>
              </div>

              <div class="btn-group">
                <button type="submit" class="btn btn-primary">
                  <i class="fas fa-save"></i> Lưu cài đặt
                </button>
              </div>
            </form>
          </div>
        </div>
      </main>
    </div>
  </body>
</html>
